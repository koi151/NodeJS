mixin table-tree(records, level = 1)
  each record, index in records
    - const prefix = Array(level + 1).join("-- ")
    tr 
    td
      input(
        type="checkbox"
        name="id"
        value=record.id
      )
    td #{record.index + 1}
    td
      img(
        src=record.thumbnail
        alt=record.title
        width="100px"
        height="auto"
      )
    td #{prefix}#{record.title}
    td
      input(
        type="number"
        value=record.position
        style="width: 60px"
        min="1"
        name="position"
      )
    td
      if(record.status == "active")
        a(
          href="javascript:;"
          data-status=record.status
          data-id=record.id
          button-change-status
          class="badge badge-success"
        ) Active
      else
        a(
          href="javascript:;"
          data-status=record.status
          data-id=record.id
          button-change-status
          class="badge badge-danger"
        ) Inactive
    td
      a(
        href=`${prefixAdmin}/products-category/detail/${record.id}`
        class="btn btn-secondary btn-sm"
        ) Detail
      a(
        href=`${prefixAdmin}/products-category/edit/${record.id}`
        class="btn btn-warning btn-sm"
        ) Modify
      button(
        class="btn btn-danger btn-sm ml-1"
        button-delete
        data-id=record.id
      ) Delete

    if record.children && record.children.length > 0
      +table-tree(record.children, level + 1)